<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>sprite_create_from_surface</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/sprites/sprite_create_from_surface.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsprites%2Fsprite_create_from_surface.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsprites%2Fsprite_create_from_surface.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>sprite_create_from_surface</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>With this function you can create a sprite from a previously
initialised surface (the surface index ID value is returned when
you create the surface using <a href=
"../drawing/surfaces/surface_create.html"><tt>surface_create</tt></a>).
The x and y coordinates that you then input in the function should
be relative to the (0,0) position of the <i>surface</i> (the top
left corner) and not the game window (nor the view if you have one
active). The width and height arguments are in pixels and define
the width and height of the part of the surface to use.</p>

<p>Setting the "removeback" argument to <tt>true</tt> will remove a
colour from the sprite, by checking the <i>bottom left</i> pixel of
the sprite for the colour there and then using that as the colour
to be removed.</p>

<p>If you choose the "removeback" option, you may also want
<i>GameMaker Studio 2</i> to smooth the edges of the sprite by
setting the "smooth" argument to <tt>true</tt>. All this does is
create a semi-transparent border around the edges of the sprite
after it has had its background removed.</p>

<p>Finally you can also specify the x and y <i>origin</i> for the
sprite. This is the point where the sprite is "fixed" onto the
instance that uses it, and is always calculated as relative to the
0,0 top left corner of one sprite sub-image. So, for example, a
sprite that is 32 x 32 pixels with these values set to (16,16) will
have its origin in the center.</p>

<p>By default all new sprites have their bounding boxes calculated
automatically (the exact bbox will depend on the size and
transparency of the sprite), however you may wish to customise
this, in which case you should also use the function <a href=
"sprite_collision_mask.html"><tt>sprite_collision_mask</tt></a>.</p>

<div class="note"><b>NOTE:</b> When you create a sprite in
<i>GameMaker Studio 2</i> with this method you must remember to
remove it again (with <a href=
"sprite_delete.html"><tt>sprite_delete</tt></a>) when no longer
needed, otherwise there is risk of a memory leak which will slow
down and eventually crash your game.</div>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">sprite_create_from_surface(index, x, y, w, h,
removeback, smooth, xorig, yorig);</p>

<div class="param">
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>index</td>
<td>The index of the surface to create from.</td>
</tr>

<tr class="alt">
<td>x</td>
<td>The x position to copy from.</td>
</tr>

<tr>
<td>y</td>
<td>The y position to copy from.</td>
</tr>

<tr class="alt">
<td>w</td>
<td>The width of the area to be copied (from the x position).</td>
</tr>

<tr>
<td>h</td>
<td>The height of the area to be copied (from the y position).</td>
</tr>

<tr class="alt">
<td>removeback</td>
<td>Indicates whether to make all pixels with the background colour
(left-bottom pixel) transparent.</td>
</tr>

<tr>
<td>smooth</td>
<td>Indicates whether to smooth the edges.</td>
</tr>

<tr class="alt">
<td>xorig</td>
<td>Indicates the x position of the origin in the sprite.</td>
</tr>

<tr>
<td>yorig</td>
<td>Indicates the y position of the origin in the sprite.</td>
</tr>
</table>
</div>

<p><br>
</p>

<h3>Returns</h3>

<p class="code">Real (unique sprite ID value)</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">var surf;<br>
surf = surface_create(32, 32);<br>
surface_set_target(surf);<br>
draw_clear_alpha(c_black, 0);<br>
draw_sprite(spr_Body, 0, 0, 0);<br>
draw_sprite(spr_Clothes, 0, 0, 0);<br>
draw_sprite(spr_Hair, 0, 0, 0);<br>
spr_custom = sprite_create_from_surface(surf, 0, 0, 32, 32, true,
true, 16, 16);<br>
surface_reset_target();<br>
surface_free(surf);<br></p>

<blockquote>
<p>The above code creates a surface and stores its index in the
local variable "surf". It then targets that surface, clears it and
draws several sprites on top of each other. Finally it creates a
new sprite from the composite image drawn on the surface and
assigns its index to "spr_Custom" before freeing up the memory used
by the surface.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href=
"index.html">Sprites</a></div>

<div style="float:right">Next: <a href=
"sprite_add_from_surface.html">sprite_add_from_surface</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
