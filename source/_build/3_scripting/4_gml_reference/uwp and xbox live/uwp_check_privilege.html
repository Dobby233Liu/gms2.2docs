<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>uwp_check_privilege</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/uwp and xbox live/uwp_check_privilege.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fuwp%20and%20xbox%20live%2Fuwp_check_privilege.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fuwp%20and%20xbox%20live%2Fuwp_check_privilege.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>uwp_check_privilege</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>With this function you can check that a given user has a chosen
privilege. The function will return true or false in the System
Asynchronous Event depending on whether the privilege is enabled or
not, and if you set the attempt_resolution argument to true and the
privilege isn't enabled, it will also open a system dialogue
(suspending the game) to prompt the user to upgrade the account or
whatever is required to get the privilege. If the user then enables
the required option, the function will return true.</p>

<p>The function requires that you use one of the following
constants for the privilege request:</p>

<div class="compat">
<table>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>

<tr>
<td>uwp_privilege_internet_browsing</td>
<td>Check to see if internet browsing is permitted</td>
</tr>

<tr class="alt">
<td>uwp_privilege_social_network_sharing</td>
<td>Check to see if sharing to social networks is permitted</td>
</tr>

<tr>
<td>uwp_privilege_share_kinect_content</td>
<td>Check whether sharing the Kinect controller is permitted</td>
</tr>

<tr class="alt">
<td>uwp_privilege_video_communications</td>
<td>Check to see if video communication is permitted</td>
</tr>

<tr>
<td>uwp_privilege_communications</td>
<td>Check to see if internet communication is permitted</td>
</tr>

<tr class="alt">
<td>uwp_privilege_user_created_content</td>
<td>Check if access to user created content is permitted</td>
</tr>

<tr>
<td>uwp_privilege_multiplayer_sessions</td>
<td>Check to see if online multiplayer sessions are permitted</td>
</tr>

<tr class="alt">
<td>uwp_privilege_sessions</td>
<td>Check to see if online sessions are permitted</td>
</tr>

<tr>
<td>uwp_privilege_fitness_upload</td>
<td>Check to see if fitness data uploading is permitted</td>
</tr>
</table>
</div>

<p><br>
Once the function has been called it will trigger an <a href=
"../../../2_interface/1_editors/events/async_events.html">Asynchronous
System event</a> when the callback result has been received, which
will have the special DS map <tt>async_load</tt>. This map should
then be parsed for the following key:</p>

<ul>
<li>"<b>event_type</b>" - should hold the value
"check_privilege_result" if the event was triggered by this
function</li>
</ul>

<p>If the event type relates to this function, then there will also
be the following additional keys:</p>

<ul>
<li>"<b>result</b>" - Will be one or more of the following
constants (combined values):

<div class="compat">
<table>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>

<tr>
<td>uwp_privilege_result_no_issue</td>
<td>0</td>
<td>There are no privilege issues with the user</td>
</tr>

<tr class="alt">
<td>uwp_privilege_result_purchase_required</td>
<td>1</td>
<td>The user must purchase something additional, usually a
subscription, for access</td>
</tr>

<tr>
<td>uwp_privilege_result_aborted</td>
<td>2</td>
<td>The check was aborted</td>
</tr>

<tr class="alt">
<td>uwp_privilege_result_banned</td>
<td>4</td>
<td>The user is banned</td>
</tr>

<tr>
<td>uwp_privilege_result_restricted</td>
<td>8</td>
<td>The user is restricted from access, usually through parental
controls</td>
</tr>
</table>
</div></li>

<li style="list-style: none"><br>
</li>

<li>"<b>privilege</b>" - will be one of the constants listed above
for use in the function, so you can check which privilege you have
requested in the case of multiple checks.</li>
</ul>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">uwp_check_privilege(user_id, privilege,
attempt_resolution);</p>

<blockquote>
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>user_id</td>
<td>The User ID pointer to check.</td>
</tr>

<tr class="alt">
<td>privilege</td>
<td>The privilege constant to check (see description, above).</td>
</tr>

<tr>
<td>attempt_resolution</td>
<td>Enable attempting a resolution if set to <tt>true</tt>, or
ignore if set to <tt>false</tt>.</td>
</tr>
</table>
</blockquote>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">Real</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">var user_one = xboxlive_get_user(0);<br>
if (xboxlive_user_is_signed_in(user_one))<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;uwp_check_privilege(user_one,
xboxlive_privilege_multiplayer_sessions, true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></p>

<blockquote>
<p>The above checks to see if the user is signed in and if they are
it checks the multiplayer sessions permission.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">UWP and XBox
Live</a></div>

<div style="float:right">Next: <a href=
"xboxlive_get_user_count.html">xboxlive_get_user_count</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
