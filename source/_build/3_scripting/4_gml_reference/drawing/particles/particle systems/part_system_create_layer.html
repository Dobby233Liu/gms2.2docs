<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>part_system_create_layer</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href=
"../../../../../../../files/helpindex.css" type="text/css">
<link rel="stylesheet" href="../../../../../../../default.css"
type="text/css">

<script type="text/JavaScript" src="../../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/drawing/particles/particle systems/part_system_create_layer.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fparticles%2Fparticle%20systems%2Fpart_system_create_layer.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fdrawing%2Fparticles%2Fparticle%20systems%2Fpart_system_create_layer.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>part_system_create_layer</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>This function will create a new particle system on a given
layer. You give the unique layer ID as returned by the function
<a href=
"../../../rooms/layers/layer_create.html"><tt>layer_create()</tt></a>
or the name of the layer to use as a string - for example
"instance_layer" - and then flag the system as being persistent or
not. If the system is not flagged as persistent then it will be
automatically destroyed at the end of the room it was created in
(this is the same as if you had called the function <a href=
"part_system_destroy.html"><tt>part_system_destroy</tt></a> and
will also destroy any emitters associated with the system).
However, when flagged as persistent, the system will be carried to
the next room when the room is changed, and if the following room
does <i>not</i> have a layer with the same name or depth as the one
assigned, then a new layer will be created for the system that is
persisting across the rooms, and it will be named the same as
original layer. When changing rooms, if there is another layer in
the following rooms with the same name, then the persisted instance
will be assigned to the layer with the that name <i>regardless of
the depth of the layer</i>. Finally, if a persisted system moves to
a room with a layer at the same depth as the layer the system was
created on, it will <i>not</i> be assigned to this layer, but
instead a new layer will be created at the same depth (with the
same name as the original layer).</p>

<p>The function will return a unique ID value for the particle
system that should be used in all further function calls where you
need to give a system ID.</p>

<div class="note"><b>IMPORTANT!</b> If you flag the particle system
as persistent, then it (and any emitters assigned to it) will need
to be cleaned up manually using the appropriate destroy functions
when not in use, otherwise you risk a memory leak that will
negatively impact your final game.</div>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">part_system_create_layer(layer_id, persistent);</p>

<blockquote>
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>layer</td>
<td>The layer ID value or string to assign the particle system to
(can be any layer type)</td>
</tr>

<tr class="alt">
<td>persistent</td>
<td>Flag the particle system as persistent (set to <tt>true</tt>)
or not (set to <tt>false</tt>)</td>
</tr>
</table>
</blockquote>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">Real (unique particle system ID value)</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">global.p_sys =
part_system_create_layer("effects_layer", true);</p>

<blockquote>
<p>The above code will create a new particle system on the given
layer and flag it as persisting over subsequent rooms. The ID for
the particle system is stored in a global scope variable for future
reference.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Particle
Systems</a></div>

<div style="float:right">Next: <a href=
"part_system_get_layer.html">part_system_get_layer</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
