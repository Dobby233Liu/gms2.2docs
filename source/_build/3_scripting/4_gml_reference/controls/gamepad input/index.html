<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>GamePad Input</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/controls/gamepad input/index.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Findex.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Findex.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>GamePad Input</h2>

<div class="body-scroll">
<p><br>
</p>

<p><i>GameMaker Studio 2</i> has a number of dedicated functions
that can be used to detect both analogue and digital controls from
multiple connected game pads. These functions work similar to the
<a href="../device%20input/index.html">Device Inputs</a>, in that
you can detect up to four different XInput game pads that are
connected (and up to 8 DirectInput gamepads) and deal with the
input from each one using the same functions. Note that when a
gamepad is plugged in to your device (or it is removed) then an
asynchronous <a href=
"../../../../2_interface/1_editors/events/async_events.html">System
Event</a> is triggered where you can deal with the situation using
the appropriate functions.</p>

<p>The gamepad "slots" are indexed from 0 with slots 0 - 3
inclusive being <i>only for Xinput gamepads</i>, ie: Xbox360
controllers and compatibles. However you can also check slots 4 -
11 inclusive for <i>DirectInput</i> gamepads, which means you can
detect many other models of controller when connected through these
slots. It is worth noting that when using DirectInput gamepads, the
constants given below may not match exactly the buttons that you
expect when they are pressed, due to the fragmented and
non-standardised way that the API is implemented by controller
manufacturers. Because of this, it is recommend that you have some
kind of gamepad setup screen in your games where people can
redefine the gamepad buttons based on input from any connected to
device to mitigate any issues (there are gamepad "mapping"
functions that can help with this on Windows Desktop, Ubuntu,
macOS, and Android targets, while on all others you would need to
do this yourself using code). Also note that Direct Input gamepads
are run in <i>cooperative mode</i> which means that your game only
has access to them when it is the foreground application, which in
turn will cause Direct Input controllers to be "lost" if the game
loses focus and then "found" again when it comes back into focus
(this can be detected in the System Event and dealt with).</p>

<p>When working with the gamepad functions, input can come from
<b>axis</b>, <b>buttons</b> and/or <b>hats</b>, which <i>GameMaker
Studio 2</i> will assign to some or all of the following built-in
constants (note that "hats" are generally only detected on
non-standard controllers):</p>

<div class="compat">
<table>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>

<tr>
<td>gp_face1</td>
<td>Top button 1 (this maps to the <i>"A"</i> on an Xbox 360
controller and the <i>cross</i> on a PS controller)</td>
</tr>

<tr class="alt">
<td>gp_face2</td>
<td>Top button 2 (this maps to the <i>"B"</i> on an Xbox 360
controller and the <i>circle</i> on a PS controller)</td>
</tr>

<tr>
<td>gp_face3</td>
<td>Top button 3 (this maps to the <i>"X"</i> on an Xbox 360
controller and the <i>square</i> on a PS controller)</td>
</tr>

<tr class="alt">
<td>gp_face4</td>
<td>Top button 4 (this maps to the <i>"Y"</i> on an Xbox 360
controller and the <i>triangle</i> on a PS controller)</td>
</tr>

<tr>
<td>gp_shoulderl</td>
<td>Left shoulder button</td>
</tr>

<tr class="alt">
<td>gp_shoulderlb</td>
<td>Left shoulder trigger</td>
</tr>

<tr>
<td>gp_shoulderr</td>
<td>Right shoulder button</td>
</tr>

<tr class="alt">
<td>gp_shoulderrb</td>
<td>Right shoulder trigger</td>
</tr>

<tr>
<td>gp_select</td>
<td>The select button (this is the <i>PS</i> button on a DS4
controller)</td>
</tr>

<tr class="alt">
<td>gp_start</td>
<td>The start button (this is the "options" button on a PS4
controller)</td>
</tr>

<tr>
<td>gp_stickl</td>
<td>The left stick pressed (as a button)</td>
</tr>

<tr class="alt">
<td>gp_stickr</td>
<td>The right stick pressed (as a button)</td>
</tr>

<tr>
<td>gp_padu</td>
<td>D-pad up</td>
</tr>

<tr class="alt">
<td>gp_padd</td>
<td>D-pad down</td>
</tr>

<tr>
<td>gp_padl</td>
<td>D-pad left</td>
</tr>

<tr class="alt">
<td>gp_padr</td>
<td>D-pad right</td>
</tr>

<tr>
<td>gp_axislh</td>
<td>Left stick horizontal axis (analogue)</td>
</tr>

<tr class="alt">
<td>gp_axislv</td>
<td>Left stick vertical axis (analogue)</td>
</tr>

<tr>
<td>gp_axisrh</td>
<td>Right stick horizontal axis (analogue)</td>
</tr>

<tr class="alt">
<td>gp_axisrv</td>
<td>Right stick vertical axis (analogue)</td>
</tr>
</table>
</div>

<p><br>
To better understand exactly what part of the controller each
constant represents, you can refer to the following image of a
standard Xinput gamepad: <img class="center" src="gamepad.png">
Below you can find a list of all the gamepad functions:</p>

<blockquote>
<ol>
<li><a href=
"gamepad_is_supported.html">gamepad_is_supported</a><br>
</li>

<li><a href=
"gamepad_is_connected.html">gamepad_is_connected</a><br>
</li>

<li><a href="gamepad_get_guid.html">gamepad_iget_guid</a><br>
</li>

<li><a href=
"gamepad_get_device_count.html">gamepad_get_device_count</a><br>
</li>

<li><a href=
"gamepad_get_description.html">gamepad_get_description</a><br>
</li>

<li><a href=
"gamepad_get_button_threshold.html">gamepad_get_button_threshold</a><br>

</li>

<li><a href=
"gamepad_get_axis_deadzone.html">gamepad_get_axis_deadzone</a><br>
</li>

<li><a href="gamepad_get_option.html">gamepad_get_option</a><br>
</li>

<li><a href=
"gamepad_set_button_threshold.html">gamepad_set_button_threshold</a><br>

</li>

<li><a href=
"gamepad_set_axis_deadzone.html">gamepad_get_axis_deadzone</a><br>
</li>

<li><a href=
"gamepad_set_vibration.html">gamepad_set_vibration</a><br>
</li>

<li><a href="gamepad_set_colour.html">gamepad_set_colour</a><br>
</li>

<li><a href="gamepad_set_option.html">gamepad_set_option</a><br>
</li>

<li><a href="gamepad_axis_count.html">gamepad_axis_count</a><br>
</li>

<li><a href="gamepad_axis_value.html">gamepad_axis_value</a><br>
</li>

<li><a href=
"gamepad_button_check.html">gamepad_button_check</a><br>
</li>

<li><a href=
"gamepad_button_check_pressed.html">gamepad_button_check_pressed</a><br>

</li>

<li><a href=
"gamepad_button_check_released.html">gamepad_button_check_released</a><br>

</li>

<li><a href=
"gamepad_button_count.html">gamepad_button_count</a><br>
</li>

<li><a href=
"gamepad_button_value.html">gamepad_button_value</a><br>
</li>

<li><a href="gamepad_hat_count.html">gamepad_hat_count</a><br>
</li>

<li><a href="gamepad_hat_value.html">gamepad_hat_value</a><br>
</li>
</ol>
</blockquote>

<p>The following gamepad functions also exist and are used for
remapping the built in constants to the direct physical inputs of a
given gamepad. These functions are <b>only for the Windows Desktop,
Ubuntu, macOS, and Android target platforms</b> and on Windows,
they will <b>only be valid for Direct input devices</b>. While
<i>GameMaker Studio 2</i> comes with mappings for a number of
different gamepads based on <a href=
"https://github.com/gabomdq/SDL_GameControllerDB" target=
"_blank">SDL Gamepad Controller DB</a>, however due to the huge
number of controller types and brands out there, it is impossible
to map the GML constants to the correct inputs for every make and
model, so with these functions you have the possibility to create
your own custom mappings.</p>

<blockquote>
<ol>
<li><a href="gamepad_get_mapping.html">gamepad_get_mapping</a><br>
</li>

<li><a href=
"gamepad_test_mapping.html">gamepad_test_mapping</a><br>
</li>

<li><a href=
"gamepad_remove_mapping.html">gamepad_remove_mapping</a><br>
</li>
</ol>
</blockquote>

<p><br>
</p>

<h2>Compatibility</h2>

<p>The following list shows current compatibility across the
platforms (note that this will change with future updates):<br>
<br></p>

<ul>
<li>Windows is fully supported with up to a maximum of 12 connected
devices permitted at once (numbered from 0 to 11, with 0 - 3 being
XInput devices and 4 - 11 being DirectInput). Remapping of
controller constants is also permitted.<br></li>

<li>macOS is supported with up to a maximum of 4 connected devices
permitted at once, and these devices can ONLY be of the type
Playstation3 or Xbox 360. Please note that the "<b>Build for Mac
AppStore</b>" option in Mac Game Options needs to be OFF for pad
support to work. Remapping of controller constants is also
permitted.<br>
<br></li>

<li>Ubuntu does also support Gamepad input, but you may need to
install additional libraries from the Ubuntu repository. You can do
this easily by opening a command line terminal and typing the
following:

<p class="code">sudo apt-get install jstest-gtk<br>
sudo apt-get install joystick.<br></p>

<p>This will install GUI support for the joystick/gamepad as well
as the joystick/gamepad API itself. Remapping of controller
constants is <i>not</i> permitted.<br>
<br></p></li>

<li>HTML5 games using gamepads are supported by most major
browsers, except <i>Safari</i>. Remapping of controller constants
is <i>not</i> permitted.<br>
<br></li>

<li>Gamepad support also extends to iOS with the <b>iCade</b>
cabinet. The left axis maps to the stick controller (although the
input is digital, not analogue), the four "face" buttons map to the
cabinet front buttons, and the four shoulder buttons map to those
at the back of the cabinet.<br>
<br></li>

<li>Android export supports NYKO controllers and generic Bluetooth
controllers (including the OUYA), but only when they are enabled,
meaning that you will have to tick the iCade/Bluetooth option in
the <a href=
"../../../../2_interface/3_settings/game_options/options_android.html">
General</a> section of the <b>Android Game Options</b>. They
require API level 12 for them to work fully and it should be noted
that <i>GameMaker Studio 2</i> will register as connected any
Bluetooth devices that your device is paired with, whether or not
it's actually connected. Therefore this should be taken into
account when assigning and checking "slots". Note that the
remapping of controller constants is also permitted.<br>
<br></li>

<li>On PS4, if you want to use the touch pad tracking you need to
use the <a href=
"../device%20input/index.html"><tt>device_mouse_*</tt></a> buttons.
Remapping of controller constants is <i>not</i> permitted.<br>
<br></li>

<li>On Windows UWP, XBoxOne and Nintendo Switch targets, gamepads
are fully supported, but remapping of controller constants is
<i>not</i> permitted.</li>
</ul>

<p>Ideally, on <i>all</i> target platforms, you want to enumerate a
list of available gamepad "slots" and then check them to see if any
devices are detected, something like this:</p>

<p class="code">var maxpads = gamepad_get_device_count();<b>for
(var i = 0; i &lt; maxpads; i++)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (gamepad_is_connected(i))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// do stuff with
pad "i"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></b></p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href=
"../index.html">Controls</a></div>

<div style="float:right">Next: <a href=
"../virtual%20keys/index.html">Virtual Keys</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
